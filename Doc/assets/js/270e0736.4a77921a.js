"use strict";(self.webpackChunkmodio_docs=self.webpackChunkmodio_docs||[]).push([[6495],{61567:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var n=i(74848),t=i(28453);const r={id:"ue-metrics",title:"Metrics",slug:"/unreal/metrics"},a="Metrics for Unreal",o={id:"feature-guides/ue-metrics",title:"Metrics",description:"The mod.io Unreal Engine Plugin supports all of our Metrics features, allowing you to track play sessions as well as deliver more basic profiling and stats. This page will guide you through how to implement each into your dashboard.",source:"@site/public/en-us/feature-guides/ue-metrics.mdx",sourceDirName:"feature-guides",slug:"/unreal/metrics",permalink:"/unreal/metrics",draft:!1,unlisted:!1,editUrl:"https://github.com/modio/modio-docs/tree/main/public/en-us/feature-guides/ue-metrics.mdx",tags:[],version:"current",frontMatter:{id:"ue-metrics",title:"Metrics",slug:"/unreal/metrics"},sidebar:"sidebar",previous:{title:"Temporary Mod Sets",permalink:"/unreal/temporary-mods"},next:{title:"Cloud Cooking",permalink:"/unreal/cloud-cooking"}},c={},l=[{value:"Playtime Metrics",id:"playtime-metrics",level:2},{value:"Initialization",id:"initialization",level:3},{value:"Starting a Metrics session",id:"starting-a-metrics-session",level:3},{value:"Metrics heartbeat",id:"metrics-heartbeat",level:3},{value:"Ending a Metrics session",id:"ending-a-metrics-session",level:3},{value:"Profiling",id:"profiling",level:2},{value:"Showing Captured Data",id:"showing-captured-data",level:3}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components},{TabItem:r,Tabs:a}=s;return r||u("TabItem",!0),a||u("Tabs",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"metrics-for-unreal",children:"Metrics for Unreal"}),"\n",(0,n.jsxs)(s.p,{children:["The mod.io Unreal Engine Plugin supports all of our ",(0,n.jsx)(s.a,{href:"https://docs.mod.io/metrics/",children:"Metrics"})," features, allowing you to track play sessions as well as deliver more basic profiling and stats. This page will guide you through how to implement each into your dashboard."]}),"\n",(0,n.jsx)(s.p,{children:"This guide covers:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"#playtime-metrics",children:"Playtime Metrics"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"#profiling",children:"Profiling"})}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"playtime-metrics",children:"Playtime Metrics"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"https://docs.mod.io/metrics/game#play-sessions",children:"Playtime Metrics"})," lets you track what UGC your players interact with most frequently. The process involves starting a Metrics play session, keeping that session alive via a heartbeat, and then ending that session."]}),"\n",(0,n.jsx)(s.admonition,{title:"Premium Feature",type:"note",children:(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"https://docs.mod.io/metrics/game#play-sessions",children:"Playtime Metrics"})," is a premium feature. If you are interested in mod.io premium features, please contact ",(0,n.jsx)(s.a,{href:"mailto:developers@mod.io",children:"developers@mod.io"}),"."]})}),"\n",(0,n.jsxs)(s.p,{children:["The Metrics session functionality is all accessible through the ",(0,n.jsx)(s.code,{children:"ModioSubsystem"})," class."]}),"\n",(0,n.jsx)(s.p,{children:"Metrics based on the platform and portal are transparently taken care of with no additional consideration needed when using the SDK."}),"\n",(0,n.jsx)(s.h3,{id:"initialization",children:"Initialization"}),"\n",(0,n.jsxs)(s.p,{children:["The mod.io Metrics features are enabled as part of generating a Metrics Secret Key from your API settings in your game dashboard, e.g. ",(0,n.jsx)(s.a,{href:"https://mod.io/g/game-name/admin/api-key",children:"https://mod.io/g/game-name/admin/api-key"}),". Once this key has been generated, you need to pass it in as an ExtendedInitializationParameters entry in your InitializeOptions when Initializing the mod.io SDK, e.g.:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-cpp",children:'FModioInitializeOptions initializeOptions;\r\ninitializeOptions.ExtendedInitializationParameters.Add("MetricsSecretKey", "00000000-1111-2222-3333-444444444444");\n'})}),"\n",(0,n.jsx)(s.p,{children:"Failing to set up the Metrics Secret Key will result in a `SessionNotInitialized`` error being returned when using the Metrics functionality."}),"\n",(0,n.jsx)(s.h3,{id:"starting-a-metrics-session",children:"Starting a Metrics session"}),"\n",(0,n.jsxs)(s.p,{children:["You can call ",(0,n.jsx)(s.a,{href:"/unreal/refdocs/#metricssessionstartasync",children:(0,n.jsx)(s.code,{children:"MetricsSessionStartAsync"})})," to start a new session tracking the usage of UGC in the context of your game. You'll notice that ",(0,n.jsx)(s.code,{children:"MetricsSessionStartAsync"})," takes a ",(0,n.jsx)(s.a,{href:"/unreal/refdocs/#modiometricssessionparams",children:(0,n.jsx)(s.code,{children:"MetricsSessionParams"})})," struct as its parameter. This contains an optional Session Id, as well as a required vector of UGC to track."]}),"\n",(0,n.jsx)(s.admonition,{type:"note",children:(0,n.jsx)(s.p,{children:"If a Session Id is not provided, a random one will be created for you."})}),"\n",(0,n.jsxs)(a,{"group-id":"languages",children:[(0,n.jsxs)(r,{value:"blueprint",label:"Blueprint",children:[(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"metrics_session_start_1",src:i(8622).A+"",width:"786",height:"457"})}),(0,n.jsx)(s.admonition,{type:"note",children:(0,n.jsxs)(s.p,{children:["Use the ",(0,n.jsx)(s.code,{children:"SetSessionId"})," node if you want to associate your own Id with this session."]})}),(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"metrics_session_start_2",src:i(80421).A+"",width:"1057",height:"498"})})]}),(0,n.jsx)(r,{value:"c++",label:"C++",default:!0,children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-cpp",children:"FModioMetricsSessionParams Params = FModioMetricsSessionParams(ModIds);\r\n\r\nvoid UModioManager::MetricsSessionStart(const FModioMetricsSessionParams& Params)\r\n{\r\n\tGEngine->GetEngineSubsystem<UModioSubsystem>()->MetricsSessionStartAsync(\r\n\t\tParams, FOnErrorOnlyDelegateFast::CreateUObject(this, &UModioManager::MetricsSessionStartCallback));\r\n}\n"})})})]}),"\n",(0,n.jsxs)(s.p,{children:["The Metrics Session Params accepts an optional Session Id in the form of a ",(0,n.jsx)(s.code,{children:"FModioGuid"})," which you may want to use to associate the new session with any supplementary telemetry you are gathering in your game."]}),"\n",(0,n.jsx)(s.h3,{id:"metrics-heartbeat",children:"Metrics heartbeat"}),"\n",(0,n.jsx)(s.p,{children:"To ensure that the session is kept alive, a heartbeat is required to be submitted at most every 5 minutes. We recommend doing this a bit earlier than the threshold to ensure you do not miss the window."}),"\n",(0,n.jsxs)(s.p,{children:["There are two methods provided to control the behaviour of the heart beat, ",(0,n.jsx)(s.a,{href:"/unreal/refdocs/#metricssessionsendheartbeatonceasync",children:(0,n.jsx)(s.code,{children:"MetricsSessionSendHeartbeatOnceAsync"})})," which you can call at your desired precision, as well as a single call and forget ",(0,n.jsx)(s.a,{href:"/unreal/refdocs/#metricssessionsendheartbeatatintervalasync",children:(0,n.jsx)(s.code,{children:"MetricsSessionSendHeartbeatAtIntervalAsync"})})," with a desired interval."]}),"\n",(0,n.jsxs)(s.p,{children:["Calling ",(0,n.jsx)(s.code,{children:"MetricsSessionSendHeartbeatOnceAsync"})," will submit a single heartbeat, and return an error code if something went wrong. If no error has occurred, the heartbeat has been successfully sent."]}),"\n",(0,n.jsxs)(a,{"group-id":"languages",children:[(0,n.jsx)(r,{value:"blueprint",label:"Blueprint",children:(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"metrics_session_heartbeat",src:i(55586).A+"",width:"786",height:"370"})})}),(0,n.jsx)(r,{value:"c++",label:"C++",default:!0,children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-cpp",children:"void UModioManager::MetricsSessionHeartbeat()\r\n{\r\n\tGEngine->GetEngineSubsystem<UModioSubsystem>()->MetricsSessionSendHeartbeatOnceAsync(\r\n\t\tFOnErrorOnlyDelegateFast::CreateUObject(this, &UModioManager::MetricsSessionHeartbeatCallback));\r\n}\n"})})})]}),"\n",(0,n.jsxs)(s.p,{children:["Calling ",(0,n.jsx)(s.code,{children:"MetricsSessionSendHeartbeatAtIntervalAsync"})," requires a parameter with the desired interval frequency in seconds. An error code will be returned if something went wrong, otherwise you will receive a false-y error if the interval loop has been shut down successfully (such as ending a session)."]}),"\n",(0,n.jsxs)(a,{"group-id":"languages",children:[(0,n.jsx)(r,{value:"blueprint",label:"Blueprint",children:(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"metrics_session_heartbeat_interval",src:i(25524).A+"",width:"841",height:"441"})})}),(0,n.jsx)(r,{value:"c++",label:"C++",default:!0,children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-cpp",children:"const FModioUnsigned64 IntervalSeconds(150);\r\n\r\nvoid UModioManager::MetricsSessionHeartbeat(const FModioUnsigned64& IntervalSeconds)\r\n{\r\n\tGEngine->GetEngineSubsystem<UModioSubsystem>()->MetricsSessionSendHeartbeatAtIntervalAsync(\r\n\t\tIntervalSeconds, \r\n\t\tFOnErrorOnlyDelegateFast::CreateUObject(this, &UModioManager::MetricsSessionHeartbeatCallback));\r\n}\n"})})})]}),"\n",(0,n.jsx)(s.h3,{id:"ending-a-metrics-session",children:"Ending a Metrics session"}),"\n",(0,n.jsxs)(s.p,{children:["To complete a session, for example when finishing a match, or quitting out of your game, you can call ",(0,n.jsx)(s.a,{href:"/unreal/refdocs/#metricssessionendasync",children:(0,n.jsx)(s.code,{children:"MetricsSessionEndAsync"})}),".\r\nAs with the other calls, you will receive an error if anything has gone wrong, otherwise the operation successfully completed."]}),"\n",(0,n.jsxs)(a,{"group-id":"languages",children:[(0,n.jsx)(r,{value:"blueprint",label:"Blueprint",children:(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"metrics_session_end",src:i(29958).A+"",width:"677",height:"371"})})}),(0,n.jsx)(r,{value:"c++",label:"C++",default:!0,children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-cpp",children:"void UModioManager::MetricsSessionHeartbeat()\r\n{\r\n\tGEngine->GetEngineSubsystem<UModioSubsystem>()->MetricsSessionEndAsync(\r\n\t\tFOnErrorOnlyDelegateFast::CreateUObject(this, &UModioManager::MetricsSessionHeartbeatCallback));\r\n}\n"})})})]}),"\n",(0,n.jsx)(s.h2,{id:"profiling",children:"Profiling"}),"\n",(0,n.jsxs)(s.p,{children:["The mod.io UE plugin also includes some basic profiling and metrics that can be viewed and exposed via Unreal\u2019s ",(0,n.jsx)(s.code,{children:"stat"})," commands and via Unreal Insights. Profiling via the ",(0,n.jsx)(s.code,{children:"MODIO_ENABLE_PROFILING"})," and ",(0,n.jsx)(s.code,{children:"MODIO_UNREAL_PROFILING_SUPPORT"})," macros are enabled by default in the mod.io plugin for non-shipping builds."]}),"\n",(0,n.jsx)(s.h3,{id:"showing-captured-data",children:"Showing Captured Data"}),"\n",(0,n.jsxs)(s.p,{children:["The plugin includes two stat groups that can be shown: ",(0,n.jsx)(s.code,{children:"Modio"})," (accessed via ",(0,n.jsx)(s.code,{children:"stat modio"}),") and ModioScoped (async operations profiled for access via Unreal Insights)."]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"Modio"})," includes some basic counters, such as the length of various background queues that process API requests and downloads."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"ModioScoped"})," captures performance insights for a majority of the async operations that the plugin performs. This data is not suitable for showing in realtime via a ",(0,n.jsx)(s.code,{children:"stat"})," command, however it is captured when creating stat profiles for use in Unreal Insights."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}function u(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},29958:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/metrics_session_end-8fdde6b4eae692aaa44ffb5915370414.png"},55586:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/metrics_session_heartbeat-b8080dbccb0d5d89abdff9b0d60c6a1a.png"},25524:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/metrics_session_heartbeat_interval-5add36acc3cc2a3993b86734cf53b61c.png"},8622:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/metrics_session_start_1-7ac9993ca33bf1680d726837beaeb8e8.png"},80421:(e,s,i)=>{i.d(s,{A:()=>n});const n=i.p+"assets/images/metrics_session_start_2-20b851f93b316eb8fa2be751dcc610c1.png"},28453:(e,s,i)=>{i.d(s,{R:()=>a,x:()=>o});var n=i(96540);const t={},r=n.createContext(t);function a(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);